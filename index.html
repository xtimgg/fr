<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>fr</title>
    <style>
        @import url('https://fonts.cdnfonts.com/css/noah-grotesque');
        @import url('https://fonts.cdnfonts.com/css/seven-segment');

        * {
            font-family: 'Noah Grotesque', sans-serif;
        }

        #in {
            position: absolute;
            height: 100%;
            width: 100%;
            background-color: black;
            z-index: 0;
            animation: in 1s cubic-bezier(0.16, 1, 0.3, 1);
            opacity: 0;
        }

        @keyframes in {
            0% {opacity: 100%; z-index: 99999;}
            20% {opacity: 100%; z-index: 99999;}
            99% {opacity: 0%;}
            100% {opacity: 0%;}
        }
        
        body {
            background: #151515;
            color: white;
            overflow-y: hidden;
            overflow-x: hidden;
        }
        
        .sect {
            position: absolute;
            left: 0; 
            right: 0; 
            margin-inline: auto; 
            width: fit-content;
            align-items: center;
            animation: incontent 2s cubic-bezier(0.16, 1, 0.3, 1);
        }

        @keyframes incontent{
            0% {transform: translateY(100%) rotate(50deg);}
        }

        #credits {
            font-size: 10px;
            position: absolute;
            bottom: 2vh;
            right: 1vw;
            background-color: white;
            border-radius: 100px;
            padding: 3px;
            width: 12px;
            white-space: nowrap;
            overflow: hidden;
            border: 1px solid white;
            transition: .3s cubic-bezier(.98,-0.64,.1,1.63);
        }

        #credits:hover {
            background-color: #202020;
            width: 80px;
        }

        h1 {
            text-align: center;
            margin-top: 15vh;
            font-size: 50px;
            text-shadow: 0 0 2px #fff, 0 0 4px #fff, 0 0 8px #fff, 0 0 16px #fff, 0 0 32px #fff;
        }

        
        nav {
            position: absolute;
            z-index: 999;
            float: left;
            top: 5vh;
            left: -270px;
            padding-right: 8%;
            transition: .6s cubic-bezier(0.16, 1, 0.3, 1);
            height: 100%;
        }

        nav:hover {
            left: -50px;
        }

        nav ul li {
            list-style-type: none;
            text-transform: uppercase;
            text-align: center;
            border: 2px solid white;
            padding: 5vh 35px;
            width: 50%;
            font-size: 25px;
            transition: .6s cubic-bezier(0.16, 1, 0.3, 1);
            cursor: pointer;
            user-select: none;
            background: linear-gradient(to right, #404040 50%, #303030 50%) repeat;
            background-position: -100% 0;
            background-size: 50%;
            filter: brightness(50%);
            text-shadow: none;
        }

        nav ul li:hover {
            filter: brightness(100%) !important;
            padding: 8vh 39px;
            background-position: 8% 0;
        }

        nav ul li:active {
            transition: .1s cubic-bezier(0.16, 1, 0.3, 1);
            padding: 6vh 25px;
        }

        @keyframes moveout {
            0% {transform: translateY(0%);}
            50% {transform: translateY(-110vh);}
            100% {transform: translateY(-110vh);}
        }

        @keyframes movein {
            0% {transform: translateY(110vh);}
            100% {transform: translateY(0);}
        }

        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
        }


        .switch {
            position: relative;
            background: radial-gradient(hsl(216, 100%, 50%), #000);
            filter: grayscale(1);
            margin:  10px 0 0 10px;
            height: 30px;
            aspect-ratio: 2.5;
            border-radius: 150px;
            border: outset 2px darkgray;
            box-shadow: 0 0 15px #303030;
            transition: .3s cubic-bezier(.28,1.41,.64,1);
            display: inline-block;
            transform: translateY(10px);
        }

        .switch:hover {
            transform: scale(1.03) translateY(10px);
        }

        .switch-handle {
            position: absolute;
            height: 80%;
            top: 10%;
            left: 5%;
            aspect-ratio: 1;
            background: radial-gradient(#ffffff, #1b1b1b);
            border-radius: 150px;
            box-shadow: 0 0 10px rgb(0, 0, 0);
        }

        @keyframes switch {
            0% {left: 5%;}
            10% {transform: scale(1.2, .8);}
            100% {left: 63%;}
        }

        @keyframes switchoff {
            0% {left: 63%;}
            10% {transform: scale(1.2, .8);}
            100% {left: 5%;}
        }


        /*cps styling*/

        #click {
            margin: auto;
            width: 570px;
            height: 35vh;
            border: 3px dashed white;
            border-radius: 20px;
            transition: .5s;
            position: relative;
            user-select: none;
        }

        #click:hover {
            border: 3px dashed white;
            border-radius: 50px;
            background: #202020;
        }

        #mask {
            height: 100%;
            width: 100%;
            clip-path: url(#roundedClip);
            position: relative;
            overflow: hidden;
        }

        #anim {
            background: radial-gradient(#151515, #151515, #525252);
            border-radius: 100%;
            border: 2px solid white;
            width: 200px;
            height: 200px;
            transform-origin: center;
            opacity: 0;
            position: absolute;
        }

        @keyframes anim {
            0% {transform: scale(0); opacity: 100%; border: 50px solid white; padding: 0px;}
            100% {transform: scale(1.5); opacity: 0%; border: 3px solid white; padding: 47px;}
        }

        #stats {
            text-align: center;
            user-select: none;
            margin: auto auto 50px auto;
            font-size: 40px;
            background: #201050;
            width: 550px;
            padding: 10px;
            border: 2px solid white;
            border-radius: 40px;
        }

        #debug {
            right: 5%;
            top: 3%;
            position: absolute;
            display: none;
        }


        /* calc styling */

        #Calc {
            width: 60vw;
            display: flex;
            align-items: center;
            margin: auto;
            text-align: center;
        }

        @media only screen and (max-width: 1000px) {
            #Calc {
            width: 100vw;
            display: flex;
            align-items: center;
            margin: auto;
            text-align: center;
            }

            nav {
                left: -222px;
            }
        }

        #calcInput {
            display: block;
            position: relative;
            right: 1vw;
            width: 100%;
            height: 100%;
            margin: auto;
            text-align: right;
            color: white;
            text-shadow: 0 0 1.74px rgba(255, 255, 255, 0.09), 0 0 3.48px rgba(255, 255, 255, 2.5), 0 0 6.96px rgba(255, 255, 255, 1.25), 0 0 13.93px rgba(255, 255, 255, 0.62);
            font-size: 400%;
            font-family: 'Seven Segment', sans-serif;
            background-color: transparent;
            border: none;
            outline: none;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .writePop {
            animation: writePop .15s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .slicePop {
            animation: slicePop .15s ease-in-out;
        }

        @keyframes writePop {
            0% {right: -10px;}
            100% {right: 1vw;}
        }
        
        @keyframes slicePop {
            0% {right: 2vw;}
            10% {right: -1px;}
            100% {right: 1vw;}
        }

        @keyframes ICtransition {
            0% {transform: translateY(0%);}
            50% {transform: translateY(-75%);}
            51% {transform: translateY(75%);}
            100% {transform: translateY(0%);}
        }

        @keyframes statePopIn {
            0% {left: -25px;}
            100% {left: 1%;}
        }
        @keyframes statePopOut {
            0% {left: 1%;}
            100% {left: -25px;}
        }

        #calcInputContainer {
            margin: auto;
            background-color: black;
            width: 49%;
            height: 10vh;
            border: 2px solid white;
            border-radius: 1vh;
            clip-path: inset(0% 0%);
            transition: .1s cubic-bezier(0.34, 1.56, 0.64, 1);
            position: relative;
        }

        #calcInputContainer:active {
            width: 47.5%;
        } 

        .calcButton {
            color: white;
            width: 12%;
            height: 7vh;
            margin: .2vh 0;
            background: radial-gradient(#333333 10%, #000000 90%);
            text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #e2e2e2, 0 0 40px #dbdbdb;
            font-size: 160%;
            transition: .2s cubic-bezier(0.34, 1.56, 0.64, 1);
            border-radius: 1vh;
            border: 2px outset;
        }

        .calcButton:hover {
            transform: scale(1.05);
            text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #e2e2e2, 0 0 40px #dbdbdb;
        }
        
        .calcButton:active {
            transform: scale(.9);
        }

        #eql {
            filter: invert(100%);
            background: radial-gradient(#303030, #000000, #6e6e6e);
            box-shadow: 0px 0px 3px rgba(0, 0, 0, 0.459);
        }

        #C {     
            background: radial-gradient(#af0202 10%, #000000 90%);
        }
        
        .cNumB {
            background-color: #202020;
        }

        #calcState {
            position: absolute;
            top: 30%;
            left: 1%;
            font-family: 'Seven Segment', sans-serif;
            font-size: 200%;
        }



        /* glower styling */

        #Glower {
            width: fit-content;
        }

        #glow {
            text-shadow: 0 0 1px rgba(255, 255, 255, 0.555), 0 0 2px #fff, 0 0 4px #fff, 0 0 8px #fff, 0 0 16px #fff, 0 0 32px #fff;
            text-align: center;
            margin-top: 5vh;
            margin-bottom: 3vh;
            font-size: 100px;
        }

        #glow p {
            font-size: 30px;
        }

        #sliders {
            display: block;
            margin-left: calc(35% - 200px);
            width: 85%;
            font-size: 30px;
        }

        .glowSlider {
            appearance: none;
            outline: none;
            background-color: rgb(78, 78, 78);
            height: .7vh;
            width: 50%;
            border-radius: 10px;
            box-shadow: -.5px -.5px white;
            margin: 10px;
            transition: .2s;
        }

        .glowSlider:hover {
            background-color: rgb(109, 109, 109);
        }
        
        .glowSlider::-webkit-slider-thumb{
            appearance: none;
            background: radial-gradient(#404040, gray);
            color: gray;
            height: 2vh;
            width: 2vh;
            border-radius: 100%;
            box-shadow: 0 0 3px black;
            transition: 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .glowSlider::-webkit-slider-thumb:hover {
            transform: scale(1.3);
            filter: brightness(150%);
        }

        .glowSlider::-webkit-slider-thumb:active {
            transform: scale(1.1);
            filter: brightness(120%);
        }

        #glowCodeOutput {
            display: block;
            background-color: #050505;
            padding: 1%;
            padding-right: 15%;
            width: 50%;
            margin: 5vh auto;
            border-radius: 43px;
            border: 1px solid white;
            text-wrap: wrap;
            font-size: 20px;
            position: relative;
        }

        #glowStyling {
            display: block;
            transform: translateX(65px);
        }

        #copyCode {
            position: absolute;
            right: 5%;
            top: 3vh;
            background-color: #151515;
            color: white;
            cursor: pointer;
            border-radius: 10px;
            padding: 10px;
            font-size: 15px;
            transition: 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
            border: 2px outset;
        }

        #copyCode:hover {
            transform: scale(1.03);
            background-color: #252525;
        }

        #copyCode:active {
            transform: scale(.9);
            background-color: #404040;
        }
    </style>
</head>
<body>
    <div id="in"></div>

    <span id="credits">by: xtimgg (tp2at)</span>
    
    <nav>
        <ul>
            <li id="bcps">cps</li>
            <li id="bcalc">calc</li>
            <li id="bcs">glower</li>
            <li id="ep">fajne takie</li>
            <li id="rr">nothin ü§´</li>
        </ul>
    </nav>

    <div id="Cps" class="sect">
        <h1 id="info">klikaj tam na dole i bedzie git</h1>

        <section id="stats">
            <span>CPS:</span>
            <span id="number">0</span>
            <span style="margin-left: 50px;">PB:</span>
            <span id="number2">0</span>
        </section>

        <div id="click">
            <div id="mask">
                <div id="anim"></div>
            </div>
        </div>

        <section id="debug">
            <span>delay between clicks:</span>
            <span id="number3">0</span> <br>
            <span>difference between delays (last 10s):</span>
            <span id="number4">0</span> <br>
        </section>

        <!--svg used as a mask cuz css clip-path is f*ckin dumb-->
        <svg width="0" height="0">
            <defs>
            <clipPath id="roundedClip" clipPathUnits="objectBoundingBox">
                <rect x="0" y="0" width="1" height="1" rx="0.09" ry="0.18" />
            </clipPath>
            </defs>
        </svg>
    </div>

    <div id="Calc" class="sect">
        <h1>kalkulator (wip)</h1>

        <div id="calcInputContainer"><input type="number" id="calcInput"><span id="calcState"></span></div>
        <button class="calcButton" id="C">C</button>
        <button class="calcButton" id=";3">;3</button>
        <button class="calcButton" id="fact">!</button>
        <button class="calcButton" id="backspace">‚Üê</button>
        <br>
        <button class="calcButton" id="pwr">x¬≤</button>
        <button class="calcButton" id="sqrt">‚àö</button>
        <button class="calcButton" id="log">log</button>
        <button class="calcButton" id="divide">:</button>
        <br>
        <button class="calcButton cNumB" id="7">7</button>
        <button class="calcButton cNumB" id="8">8</button>
        <button class="calcButton cNumB" id="9">9</button>
        <button class="calcButton" id="multiply">x</button>
        <br>
        <button class="calcButton cNumB" id="4">4</button>
        <button class="calcButton cNumB" id="5">5</button>
        <button class="calcButton cNumB" id="6">6</button>
        <button class="calcButton" id="minus">-</button>
        <br>
        <button class="calcButton cNumB" id="1">1</button>
        <button class="calcButton cNumB" id="2">2</button>
        <button class="calcButton cNumB" id="3">3</button>
        <button class="calcButton" id="plus">+</button>
        <br>
        <button class="calcButton" id="pm">+/-</button>
        <button class="calcButton cNumB" id="0">0</button>
        <button class="calcButton" id="comma">.</button>
        <button class="calcButton" id="eql">=</button>

    </div>

    <div id="Glower" class="sect">
        <div id="glow">sample text <br> <p>smaller sample text</p></div>
    
        <div id="sliders">
            glow strength: <input type="range" min="0" max="300" value="100" name="strength" id="glowStrength" class="glowSlider"> <span id="glowStrengthNum">1</span> <br>
            glow spread: <input type="range" min="0" max="15" value="3" name="spread" id="glowSpread" class="glowSlider"> <span id="glowSpreadNum">1</span> <br>
            glow blend: <input type="range" min="0" max="300" value="100" name="blend" id="glowBlend" class="glowSlider"> <span id="glowBlendNum">1</span> <br>
            glow hue: <input type="range" min="0" max="359" value="250" name="hue" id="glowHue" class="glowSlider"> <span id="glowHueColor">&#9632;</span> <br>
            coloured glow <div class="switch" id="glowHueSwitch" style="margin-right: 10%;"><div class="switch-handle" id="glowHueSwitchHandle"></div></div>
            coloured text <div class="switch" id="textHueSwitch"><div class="switch-handle" id="textHueSwitchHandle"></div></div>
        </div>
    
        <pre id="glowCodeOutput">
            <button id="copyCode">copy<br>code</button>
            <code>
        * {
            <span id="glowStyling">text-shadow: </span>
        }
            </code>
        </pre>
        <script src="glower.js"></script>
    </div>

    <script>
        // caly ten skrypt do uporzadkowania jeszcze XD

        function setCookie(name, value, days = 3650) {
            let expires = "";
            if (days) {
                const date = new Date();
                date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));  // days in milliseconds
                expires = "; expires=" + date.toUTCString();
            }
            document.cookie = name + "=" + encodeURIComponent(value) + expires + "; path=/";
        }

        function getCookie(name) {
            const nameEQ = name + "=";
            const cookies = document.cookie.split(';');
            for (let cookie of cookies) {
                while (cookie.charAt(0) === ' ') cookie = cookie.substring(1);
                if (cookie.indexOf(nameEQ) === 0) {
                    return decodeURIComponent(cookie.substring(nameEQ.length));
                }
            }
            return null;
        }


        function switching(switchid, handleid, value) {
            const switchC = document.getElementById(switchid);
            const switchH = document.getElementById(handleid);
            switchC.addEventListener('click', () => {
                switchH.style.animation = "none";
                void switchH.offsetWidth;
                switchH.style.animation = "";
                if(value) {
                    switchH.style.animation = `switchoff .3s cubic-bezier(.28,1.41,.64,1)`;
                    switchC.style.filter = `grayscale(1)`;
                    switchH.style.left = `5%`;
                    value = false;
                } else {
                    switchH.style.animation = `switch .3s cubic-bezier(.28,1.41,.64,1)`;
                    switchC.style.filter = `grayscale(0)`;
                    switchH.style.left = `63%`;
                    value = true;
                }
            });
        }

        const cpsS = document.getElementById("Cps");
        const calcS = document.getElementById("Calc");
        const glowerS = document.getElementById("Glower");
        const cpsB = document.getElementById("bcps");
        const calcB = document.getElementById("bcalc");
        const csB = document.getElementById("bcs");
        const ep = document.getElementById("ep");
        const rr = document.getElementById("rr");
        const click = document.getElementById("click");
        const mask = document.getElementById("mask");
        const cpsNum = document.getElementById("number");
        const pbNum = document.getElementById("number2");
        const delayNum = document.getElementById("number3");
        const avgdelayNum = document.getElementById("number4");

        const calcInput = document.getElementById("calcInput");
        let calcInputOverwrite = false;

        
        function maxlenght() {
            /*if (calcInput.value.length > 16) {
                calcInput.classList.remove("writePop");
                calcInput.value = calcInput.value.slice(0, 16);
            }  zostawiam na wszelki wypadek */
        }

        function inAnim() {
            calcInput.style.animation = "none";
            void calcInput.offsetWidth;
            calcInput.style.animation = "";
            calcInput.classList.add("writePop");
        }

        calcInput.oninput = function () {
            if(calcInputOverwrite) {
                let inputt = calcInput.value.slice(-1);
                setTimeout(() => calcInput.value = inputt, 10)
                calcInputOverwrite = false;
            }
            maxlenght();
            inAnim();
        }

        const calcMeow = document.getElementById(";3");
        var cps = 0;
        var pb = parseInt(getCookie("pb")) || 0;
        pbNum.textContent = pb;
        var crazy = false;
        let startTime = new Date();
        let endTime = new Date();
        let clicksTen = 0;
        let delayTen = 0;
        let timeElapsed = 0;
        let _timeElapsed = 0;

        switch(window.location.hash) {
            case "#cps":
                cpsS.style.display = 'block';
                calcS.style.display = 'none';
                glowerS.style.display = 'none';
                var currentS = cpsS;
                changeSStyling();
                break;
            case "#calc":
                cpsS.style.display = 'none';
                calcS.style.display = 'block';
                glowerS.style.display = 'none';
                var currentS = calcS;
                changeSStyling();
                break;
                case "#glower":
                cpsS.style.display = 'none';
                calcS.style.display = 'none';
                glowerS.style.display = 'block';
                var currentS = glowerS;
                changeSStyling();
                break;
                default:
                cpsS.style.display = 'none';
                calcS.style.display = 'block';
                glowerS.style.display = 'none';
                var currentS = calcS;
                changeSStyling();
        }

        function moveElementToMouse(event) {
            cps += 1;
            cpsNum.textContent = cps;
            clicksTen += 1;
            setTimeout(() => {
            clicksTen -= 1;
            }, 10000);
            var endTime = new Date();
            timeElapsed = endTime - startTime;
            delayTen += Math.abs(timeElapsed-_timeElapsed);
            var _delayDifference = Math.abs(timeElapsed-_timeElapsed);
            _timeElapsed = timeElapsed;
            setTimeout(() => {
            delayTen -= _delayDifference;
            }, 10000);
            delayNum.textContent = timeElapsed;
            avgdelayNum.textContent = Math.round(delayTen/clicksTen);
            if(Math.round(delayTen/clicksTen)<3) {
                document.getElementById('info').textContent = "ale nie na autoclickerze debilu XD";
            } else { 
                document.getElementById('info').textContent = "klikaj tam na dole i bedzie git";
            }
            startTime = new Date();
            setTimeout(() => {
            cps = cps-1;
            cpsNum.textContent = cps
            }, 1000);

            if(pb<cps) {
                pb = cps;
                pbNum.textContent = pb;
                setCookie("pb", pb);
            }

            if(cps>9) {
                crazy = true;
            }

            const animClone = document.getElementById("anim").cloneNode(true);
            const clickRect = click.getBoundingClientRect();

            animClone.style.position = "absolute";
            animClone.style.left = `${event.clientX - clickRect.left - 150}px`;
            animClone.style.top = `${event.clientY - clickRect.top - 150}px`;
            animClone.style.opacity = "100%";
            animClone.style.animation = "anim .6s ease-out";
            if(crazy==true) {
                var color = `hsl(${Math.random()*360}, 100%, 50%, 50%)`
                animClone.style.background = color;
            };

            mask.appendChild(animClone);

            animClone.addEventListener("animationend", () => {
                animClone.remove();
            }, { once: true });
        }

        
        let animating = false;
        let pendingChange = "";

        function change(S) {
            if(S==currentS) {
                return;
            }

            if(animating==true) {
                pendingChange = S;
                return;
            }

            animating = true;
            setTimeout(() => {
                animating = false
                if (pendingChange != "") {
                    change(pendingChange)
                }
                pendingChange = "";
            }, 610)
            currentS.style.animation = 'moveout 2s cubic-bezier(0.16, 1, 0.3, 1)';
            _currentS=currentS;
            setTimeout(() => _currentS.style.display = 'none', 600)
            currentS = S;
            window.location.hash = `${S.id}`.toLowerCase();
            setCookie("section", currentS);
            S.style.display = 'block';
            S.style.animation = 'movein .6s cubic-bezier(0.16, 1, 0.3, 1)';
            changeSStyling();
        }

        function changeSStyling() {
            switch(currentS) {
                case cpsS:
                    cpsB.style.filter = 'brightness(100%)'
                    calcB.style.filter = 'brightness(50%)'
                    csB.style.filter = 'brightness(50%)'
                    cpsB.style.textShadow = '0 0 10px #fff, 0 0 20px #fff, 0 0 30px #e2e2e2, 0 0 40px #dbdbdb'
                    calcB.style.textShadow = ''
                    csB.style.textShadow = ''
                    break;
                case calcS:
                    calcB.style.filter = 'brightness(100%)'
                    cpsB.style.filter = 'brightness(50%)'
                    csB.style.filter = 'brightness(50%)'
                    calcB.style.textShadow = '0 0 10px #fff, 0 0 20px #fff, 0 0 30px #e2e2e2, 0 0 40px #dbdbdb'
                    cpsB.style.textShadow = ''
                    csB.style.textShadow = ''
                    break;
                case glowerS:
                    csB.style.filter = 'brightness(100%)'
                    cpsB.style.filter = 'brightness(50%)'
                    calcB.style.filter = 'brightness(50%)'
                    csB.style.textShadow = '0 0 10px #fff, 0 0 20px #fff, 0 0 30px #e2e2e2, 0 0 40px #dbdbdb'
                    cpsB.style.textShadow = ''
                    calcB.style.textShadow = ''
                    break;
            }
        }
        
        click.addEventListener('click', moveElementToMouse);

        document.addEventListener('keyup', function (event) {
            if (event.ctrlKey && event.altKey && event.key === 'd') {
                
                var element = document.getElementById('debug');
                if (element.style.display = 'none') {
                    element.style.display = 'block';
                } else {
                    element.style.display = 'none';
                }
            }
        });

        cpsB.addEventListener('click', () => change(cpsS));
        calcB.addEventListener('click', () => change(calcS));
        csB.addEventListener('click', () => change(glowerS));
        ep.addEventListener('click', () => window.open('https://xtimgg.github.io/meow/', '_blank').focus);
        rr.addEventListener('click', () => window.open('https://bitly.com/98K8eH', '_blank').focus);

        document.getElementById('fact').addEventListener('click', () => {
            var fact = 1;
            for(i = 1; i<=Math.abs(calcInput.value); i++) {
                fact *= i;
            }
            switchAnim();
            setTimeout(() => {
                if(calcInput.value>=0){
                    calcInput.value = fact;
                } else {
                    calcInput.value = -(fact);
                }
            }, 200)
        });        
        
        calcMeow.addEventListener('click', () => {
            switchAnim();
            setTimeout(() => {calcInput.type = "text"; calcInput.value = "meow ;3";}, 150)
            setTimeout(() => {
                switchAnim();
                setTimeout(() => calcInput.type = "number", 150)
            }, 800)
        });

        let addComma = false;
        document.getElementById('comma').addEventListener('click', () => {
            if(calcInput.value.includes("."||",")) {
                addComma = false;
            } else {
                addComma = true;
            }
        });


        calcInput.addEventListener("animationend", () => {
            calcInput.classList.remove("writePop");
            calcInput.classList.remove("slicePop");
        });

        function calcBF(num) {
            document.getElementById(num).addEventListener('click', () => {
                if(calcInputOverwrite) {
                    calcInput.value = "";
                    calcInputOverwrite = false;
                }
                if (!addComma) {
                    calcInput.value += num;
                    inAnim();
                } else {
                    calcInput.value += '.' + num;
                    addComma = false;
                    inAnim();
                }   
                maxlenght();
            });
        }

        for (let i = 0; i <= 9; i++) {
            calcBF(i);
        }


        function switchAnim() {
            calcInput.style.animation = "none";
            void calcInput.offsetWidth;
            calcInput.style.animation = "";
            calcInput.style.animation = `ICtransition .3s cubic-bezier(.98,-0.64,.1,1.63)`
        }

        document.getElementById('pm').addEventListener('click', () => {calcInput.value *= -1, inAnim();});

        document.getElementById('sqrt').addEventListener('click', () => {
            switchAnim();
            setTimeout(() => {calcInput.value = Math.sqrt(calcInput.value); maxlenght();}, 150)
        });

        document.getElementById('pwr').addEventListener('click', () => {
            switchAnim();
            setTimeout(() => {calcInput.value *= calcInput.value; maxlenght();}, 150)
        });

        document.getElementById('log').addEventListener('click', () => {
            switchAnim();
            setTimeout(() => {calcInput.value = Math.log(calcInput.value); maxlenght();}, 150)
        });
        
        document.getElementById('C').addEventListener('click', () => {
            switchAnim();
            outAnimS()
            calcState = "";
            setTimeout(() => calcSt.textContent = "", 150)
            setTimeout(() => calcInput.value = "", 100)
        });
        

        let firstValue = 0;
        let calcState = "";
        const calcSt = document.getElementById('calcState');

        
        function inAnimS() {
            calcSt.style.animation = "none";
            void calcSt.offsetWidth;
            calcSt.style.animation = "";
            calcSt.style.animation = "statePopIn .15s cubic-bezier(0.34, 1.56, 0.64, 1)";
        }
        
        function outAnimS() {
            calcSt.style.animation = "none";
            void calcSt.offsetWidth;
            calcSt.style.animation = "";
            calcSt.style.animation = "statePopOut .15s cubic-bezier(.98,-0.64,.1,1.63)";
        }

        function equal(n=false) {
            if(n) {
                switchAnim();
                if(calcState=="addition") {
                    setTimeout(() => calcInput.value = Number(firstValue) + Number(calcInput.value), 150)
                } else if(calcState=="substract") {
                    setTimeout(() => calcInput.value = Number(firstValue) - Number(calcInput.value), 150)
                } else if(calcState=="multiply") {
                    setTimeout(() => calcInput.value = Number(firstValue) * Number(calcInput.value), 150)
                } else if(calcState=="divide") {
                    setTimeout(() => calcInput.value = Number(firstValue) / Number(calcInput.value), 150)
                }
                calcInputOverwrite = true;
            } else {
                inAnim();
                if(calcState=="addition") {
                    calcInput.value = Number(firstValue) + Number(calcInput.value);
                } else if(calcState=="substract") {
                    calcInput.value = Number(firstValue) - Number(calcInput.value);
                } else if(calcState=="multiply") {
                    calcInput.value = Number(firstValue) * Number(calcInput.value);
                } else if(calcState=="divide") {
                    calcInput.value = Number(firstValue) / Number(calcInput.value);
                }
                calcInputOverwrite = true;
            }
        }

        document.getElementById('plus').addEventListener('click', () => {
            if(calcState != ""){
                equal();
                firstValue = 0;
                result = calcInput.value
            } else {
                result = "";
                switchAnim();
            }
            firstValue = calcInput.value;
            setTimeout(() => {calcInput.value = result}, 150)
            calcState = "addition";
            inAnimS();
            calcSt.textContent = "+";
        });
        
        document.getElementById('minus').addEventListener('click', () => {
            if(calcState != ""){
                equal();
                firstValue = 0;
                result = calcInput.value
            } else {
                result = "";
                switchAnim();
            }
            firstValue = calcInput.value;
            setTimeout(() => {calcInput.value = result}, 150)
            calcState = "substract";
            inAnimS();
            calcSt.textContent = "-";
        });
        
        document.getElementById('multiply').addEventListener('click', () => {
            if(calcState != ""){
                equal();
                firstValue = 0;
                result = calcInput.value
            } else {
                result = "";
                switchAnim();
            }
            firstValue = calcInput.value;
            setTimeout(() => {calcInput.value = result}, 150)
            calcState = "multiply";
            inAnimS();
            calcSt.textContent = "x";
        });
        
        document.getElementById('divide').addEventListener('click', () => {
            if(calcState != ""){
                equal();
                firstValue = 0;
                result = calcInput.value
            } else {
                result = "";
                switchAnim();
            }
            firstValue = calcInput.value;
            setTimeout(() => {calcInput.value = result}, 150)
            calcState = "divide";
            inAnimS();
            calcSt.textContent = ":";
        });
        

        document.getElementById('eql').addEventListener('click', () => {
            equal(true);
        });

        document.getElementById('backspace').addEventListener('click', () => {
            calcInput.style.animation = "none";
            void calcInput.offsetWidth;
            calcInput.style.animation = "";
            calcInput.classList.add("slicePop");
            if (calcInput.value.slice(-2, -1) === ".") {
                calcInput.value = calcInput.value.slice(0, -2);
            } else {
                calcInput.value = calcInput.value.slice(0, -1);
            }
        });
    </script>
</body>
</html>
